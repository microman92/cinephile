import{u as d,b as m,r as p,d as g,o as s,e as _,w as v,f as h,g as u,t as y,n as f,p as S,q as k,i as x,s as $,c as n,v as w,k as C,x as b,F as z,l as B,m as U,a as V}from"./index-bf880f66.js";const D={alt:"",class:"main__search_list-item-img"},M={class:"main__search_list-item-title"},N={__name:"SearchContent",props:{item:Object},setup(t){const e=d(),r=m(()=>e.movieUrl),i=m(()=>e.movieSize);return e.getConfiguration(),(o,l)=>{const c=p("router-link"),a=g("lazy");return s(),_(c,{to:`${t.item.media_type}/${t.item.id}`,class:"main__search_list-item"},{default:v(()=>[h(u("img",D,null,512),[[a,r.value+i.value+t.item.backdrop_path]]),u("h2",M,y(t.item.name||t.item.title),1)]),_:1},8,["to"])}}},T=f({id:"search",state:()=>({url:"https://api.themoviedb.org/3/",result:null}),actions:{async getSearch(t){try{let e=await S.get(`${this.url}/search/multi?api_key=${k}&language=ru-RU&query=${t}`);this.result=e.data.results}catch(e){console.error("Произошла ошибка при поиске данных",e)}}},getters:{}}),q={class:"main__search container"},F={key:0,class:"main__search_list"},R={__name:"Search",setup(t){let e=x("");const r=T(),i=m(()=>r.result);let o=null;return $(e,l=>{clearTimeout(o),o=setTimeout(()=>{r.getSearch(l)},500)}),(l,c)=>(s(),n("div",q,[h(u("input",{type:"text",class:"main__search_input",placeholder:"Найти фильм, сериал ...","onUpdate:modelValue":c[0]||(c[0]=a=>b(e)?e.value=a:e=a)},null,512),[[w,C(e)]]),i.value?(s(),n("div",F,[(s(!0),n(z,null,B(i.value,a=>(s(),_(N,{key:a.id,item:a},null,8,["item"]))),128))])):U("",!0)]))}},j={class:"main"},E={__name:"SearchPage",setup(t){return(e,r)=>(s(),n("main",j,[V(R)]))}};export{E as default};
